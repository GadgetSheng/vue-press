"use strict";(self.webpackChunkbfe_lessons=self.webpackChunkbfe_lessons||[]).push([[503],{7654:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-23a50876",path:"/packager/webpack.html",title:"学习webpack",lang:"en-US",frontmatter:{lastUpdated:!1},excerpt:"",headers:[{level:2,title:"Original",slug:"original",children:[{level:3,title:"Concepts",slug:"concepts",children:[]},{level:3,title:"Entry",slug:"entry",children:[]},{level:3,title:"Output",slug:"output",children:[]},{level:3,title:"Plugins",slug:"plugins",children:[]},{level:3,title:"Mode",slug:"mode",children:[]},{level:3,title:"Browser Compatibility",slug:"browser-compatibility",children:[]},{level:3,title:"Scenarios",slug:"scenarios",children:[]},{level:3,title:"Multiple Entry Points",slug:"multiple-entry-points",children:[]}]},{level:2,title:"Webpack内容综述",slug:"webpack内容综述",children:[{level:3,title:"01 webpack与构建发展简史",slug:"_01-webpack与构建发展简史",children:[]},{level:3,title:"02 webpack基础用法",slug:"_02-webpack基础用法",children:[]},{level:3,title:"03 webpack进阶用法",slug:"_03-webpack进阶用法",children:[]}]}],filePathRelative:"packager/webpack.md",git:{updatedTime:1634143888e3}}},5427:(n,s,a)=>{a.r(s),a.d(s,{default:()=>ra});var e=a(6252),l=a(744);const t=(0,e._)("h1",{id:"学习webpack",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#学习webpack","aria-hidden":"true"},"#"),(0,e.Uk)(" 学习webpack")],-1),o={class:"table-of-contents"},p=(0,e.Uk)("Original"),c=(0,e.Uk)("Concepts"),u=(0,e.Uk)("Entry"),_=(0,e.Uk)("Output"),r=(0,e.Uk)("Plugins"),i=(0,e.Uk)("Mode"),k=(0,e.Uk)("Browser Compatibility"),b=(0,e.Uk)("Scenarios"),m=(0,e.Uk)("Multiple Entry Points"),d=(0,e.Uk)("Webpack内容综述"),U=(0,e.Uk)("01 webpack与构建发展简史"),g=(0,e.Uk)("02 webpack基础用法"),h=(0,e.Uk)("03 webpack进阶用法"),w=(0,e._)("h2",{id:"original",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#original","aria-hidden":"true"},"#"),(0,e.Uk)(" Original")],-1),v=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"官方原文"),(0,e._)("h3",{id:"concepts",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#concepts","aria-hidden":"true"},"#"),(0,e.Uk)(" Concepts")]),(0,e._)("p",null,[(0,e.Uk)("webpack is a "),(0,e._)("strong",null,"static"),(0,e.Uk)(" module bundler for modern JavaScript application")]),(0,e._)("p",null,[(0,e.Uk)("it internally builds a ["),(0,e._)("code",null,"dependency graph"),(0,e.Uk)("] from one or more entry points and then combines every module your project needs into one or more bundles, which are static assets to serve your content from.")]),(0,e._)("p",null,"Core concepts:"),(0,e._)("ul",null,[(0,e._)("li",null,"Entry"),(0,e._)("li",null,"Output"),(0,e._)("li",null,"Loaders"),(0,e._)("li",null,"Plugins"),(0,e._)("li",null,"Mode"),(0,e._)("li",null,"Browser Compatiblity")]),(0,e._)("p",null,"一期目标问题"),(0,e._)("ul",null,[(0,e._)("li",null,"Manually Bundling an Application"),(0,e._)("li",null,"Live Coding a Simple Module Bundler"),(0,e._)("li",null,"Detailed Explaination of a Simple Module Bundler")]),(0,e._)("h3",{id:"entry",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#entry","aria-hidden":"true"},"#"),(0,e.Uk)(" Entry")]),(0,e._)("p",null,[(0,e.Uk)("entry point = which module webpack begin building out its internal "),(0,e._)("strong",null,"dependency graph"),(0,e.Uk)(". figure out depends on(directly or indirectly).")]),(0,e._)("p",null,[(0,e._)("code",null,"./src/index.js")]),(0,e._)("h3",{id:"output",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#output","aria-hidden":"true"},"#"),(0,e.Uk)(" Output")]),(0,e._)("p",null,[(0,e.Uk)("emit the bundles and specific the names of these files. "),(0,e._)("code",null,"./dist/main.js"),(0,e.Uk)(" { path, filename }")]),(0,e._)("h3",{id:"plugins",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#plugins","aria-hidden":"true"},"#"),(0,e.Uk)(" Plugins")]),(0,e._)("p",null,[(0,e.Uk)("leveraged to perform a wider range of tasks like bundle optimization , asset management and injection of enviroment variables. "),(0,e._)("em",null,"extend capabilities")]),(0,e._)("ul",null,[(0,e._)("li",null,"require it"),(0,e._)("li",null,"push to plugins array"),(0,e._)("li",null,[(0,e.Uk)("create instance with "),(0,e._)("code",null,"new")])]),(0,e._)("h3",{id:"mode",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#mode","aria-hidden":"true"},"#"),(0,e.Uk)(" Mode")]),(0,e._)("p",null,[(0,e.Uk)("development,"),(0,e._)("code",null,"production"),(0,e.Uk)(",none built-in optimization that correspond to each environment.")]),(0,e._)("h3",{id:"browser-compatibility",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#browser-compatibility","aria-hidden":"true"},"#"),(0,e.Uk)(" Browser Compatibility")]),(0,e._)("p",null,[(0,e.Uk)('supports all "ES5-compliant" webpack needs Promise for '),(0,e._)("code",null,"import()"),(0,e.Uk)(","),(0,e._)("code",null,"require.ensure()"),(0,e.Uk)(". to support older browser you need to load polyfill.")]),(0,e._)("blockquote",null,[(0,e._)("p",null,"Webpack 5 runs on Node.js version 10.13.0+")]),(0,e._)("h3",{id:"scenarios",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#scenarios","aria-hidden":"true"},"#"),(0,e.Uk)(" Scenarios")]),(0,e._)("ol",null,[(0,e._)("li",null,"Seperate App and Vender Entries")]),(0,e._)("div",{class:"language-json ext-json line-numbers-mode"},[(0,e._)("pre",{class:"language-json"},[(0,e._)("code",null,[(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    entry"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        main"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" 'xxx'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        vendor"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" 'yyy'\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    output"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" '"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("name"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("."),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("contenthash"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)(".bundle.js'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token comment"},"// prod"),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" '"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("name"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)(".bundle.js' "),(0,e._)("span",{class:"token comment"},"// dev"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])]),(0,e._)("p",null,[(0,e._)("code",null,"optimization.splitChunks"),(0,e.Uk)(" option takes care of seperating vendors and app modules.")]),(0,e._)("h3",{id:"multiple-entry-points",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#multiple-entry-points","aria-hidden":"true"},"#"),(0,e.Uk)(" Multiple Entry Points")]),(0,e._)("p",null,[(0,e.Uk)("Output has a unique name. can use substitutions "),(0,e._)("code",null,"[name]")])],-1),x=(0,e._)("h2",{id:"webpack内容综述",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#webpack内容综述","aria-hidden":"true"},"#"),(0,e.Uk)(" Webpack内容综述")],-1),f=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"章节"),(0,e._)("ul",null,[(0,e._)("li",null,"P1-P3 webpack 的基本概念和日常开发的使用技巧"),(0,e._)("li",null,"P4-P5 以工程化的方式组织webpack构建配置，和webpack打包优化"),(0,e._)("li",null,"P6-P7 详细剖析webpack打包原理和插件，以及loader的实现"),(0,e._)("li",null,"P8 从实际web商城项目出发，讲解webpack实际使用")])],-1),y=(0,e._)("h3",{id:"_01-webpack与构建发展简史",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#_01-webpack与构建发展简史","aria-hidden":"true"},"#"),(0,e.Uk)(" 01 webpack与构建发展简史")],-1),j=(0,e._)("p",null,"为什么需要构建工具",-1),S=(0,e._)("ul",null,[(0,e._)("li",null,"转换ES6语法"),(0,e._)("li",null,"转换JSX"),(0,e._)("li",null,"CSS前缀补全/预处理器"),(0,e._)("li",null,"压缩混淆"),(0,e._)("li",null,"图片压缩")],-1),P=(0,e._)("p",null,[(0,e.Uk)("构建演变之路 "),(0,e._)("code",null,"ant+YUI tool --\x3e grunt --\x3e fis3/gulp --\x3e rollup,webpack,parcel")],-1),C=(0,e._)("p",null,"为什么选择webpack",-1),W=(0,e._)("ul",null,[(0,e._)("li",null,"社区生态丰富"),(0,e._)("li",null,"配置灵活和插件化扩展"),(0,e._)("li",null,"官方更新迭代速度快")],-1),E=(0,e._)("p",null,"初识webpack：配置文件名称",-1),M=(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Uk)("webpack默认配置文件 "),(0,e._)("code",null,"webpack.config.js")]),(0,e._)("li",null,"可以通过 webpack --config 指定配置文件")],-1),q=(0,e._)("p",null,"初识webpack：配置组成",-1),O=(0,e._)("ul",null,[(0,e._)("li",null,"entry // 打包的入口文件"),(0,e._)("li",null,"output // 打包的输出"),(0,e._)("li",null,"mode // 环境"),(0,e._)("li",null,"module.rules // Loader配置"),(0,e._)("li",null,"module.plugins // 插件配置")],-1),z=(0,e._)("p",null,[(0,e._)("strong",null,"零配置"),(0,e.Uk)("webpack包含哪些内容")],-1),H=(0,e._)("ul",null,[(0,e._)("li",null,"默认entry为 ./src/index.js"),(0,e._)("li",null,"默认output为 ./dist/main.js"),(0,e._)("li",null,"loader raw-loader"),(0,e._)("li",null,"plugins HtmlwebpackPlugin template:./src/index.html")],-1),R=(0,e._)("p",null,"环境搭建 Node.js 和 NPM",-1),L=(0,e._)("p",null,"安装webpack和 webpack-cli",-1),D=(0,e._)("p",null,"webpack初体验",-1),J=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" path"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'path'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\nmodule"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    mode"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'production'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    entry"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'./src/index.js'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    output"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        path"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" path"),(0,e._)("span",{class:"token punctuation"},"."),(0,e._)("span",{class:"token function"},"resolve"),(0,e._)("span",{class:"token punctuation"},"("),(0,e.Uk)("__dirname"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},"'dist'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'bundle.js'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br")])],-1),N=(0,e._)("p",null,"---\x3e构建结果",-1),T=(0,e._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,e._)("pre",{class:"language-html"},[(0,e._)("code",null,[(0,e._)("span",{class:"token doctype"},[(0,e._)("span",{class:"token punctuation"},"<!"),(0,e._)("span",{class:"token doctype-tag"},"doctype"),(0,e.Uk)(),(0,e._)("span",{class:"token name"},"html"),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("html")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("head")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("title")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("demo"),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("title")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("head")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("body")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("script")]),(0,e.Uk)(),(0,e._)("span",{class:"token attr-name"},"src"),(0,e._)("span",{class:"token attr-value"},[(0,e._)("span",{class:"token punctuation attr-equals"},"="),(0,e._)("span",{class:"token punctuation"},'"'),(0,e.Uk)("dist/bundle.js"),(0,e._)("span",{class:"token punctuation"},'"')]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e._)("span",{class:"token script"}),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("script")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("body")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("html")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br")])],-1),B=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("通过npm script 运行"),(0,e._)("code",null,"webpack")]),(0,e._)("p",null,[(0,e._)("strong",null,"原理"),(0,e.Uk)(" 模块局部安装会在 node_modules/.bin目录创建软链接")])],-1),$=(0,e._)("h3",{id:"_02-webpack基础用法",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#_02-webpack基础用法","aria-hidden":"true"},"#"),(0,e.Uk)(" 02 webpack基础用法")],-1),A=(0,e._)("p",null,"Entry 用来指定webpack的打包入口",-1),I=(0,e._)("p",null,"模块依赖图的入口是 entry 对于非代码比如图片、字体依赖也会不断加入到依赖图中",-1),G=(0,e._)("p",null,"Entry的用法",-1),F=(0,e._)("ul",null,[(0,e._)("li",null,"单入口：entry是一个字符串"),(0,e._)("li",null,"多入口：entry是一个对象")],-1),V=(0,e._)("p",null,"Output用来告诉webpack 如何将编译后的文件输出到磁盘",-1),Z=(0,e._)("p",null,"Output的用法：单入口配置",-1),X=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    entry"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token string"},"'./path/to/my/entry/file.js'"),(0,e.Uk)("\n    output"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'bundle.js'"),(0,e.Uk)("\n        path"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" __dirname "),(0,e._)("span",{class:"token operator"},"+"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/dist'"),(0,e.Uk)("\n        \n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])],-1),Y=(0,e._)("p",null,"Output的用法：多入口配置",-1),K=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    entry"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        app"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'./src/app.js'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        search"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'./src/search.js'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    output"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'[name].js'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        path"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" __dirname "),(0,e._)("span",{class:"token operator"},"+"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/dist'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),Q=(0,e._)("blockquote",null,[(0,e._)("p",null,"通过占位符确保文件名称的唯一")],-1),nn=(0,e._)("ul",null,[(0,e._)("li",null,"核心概念之Loaders")],-1),sn=(0,e._)("p",null,"webpack开箱即用只支持js和json两种文件类型，通过Loaders去支持其他文件类型并且把它们转化成有效的模块， 并且可以添加到依赖图中。 本身是一个函数，接受源文件作为参数，返回转换的结果。",-1),an=(0,e._)("p",null,"常见的Loaders",-1),en=(0,e._)("table",null,[(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"名称"),(0,e._)("th",null,"描述")])]),(0,e._)("tbody",null,[(0,e._)("tr",null,[(0,e._)("td",null,"babel-loader"),(0,e._)("td",null,"转换ES6+等JS新特性语法")]),(0,e._)("tr",null,[(0,e._)("td",null,"css-loader"),(0,e._)("td",null,"支持.css文件的加载和解析")]),(0,e._)("tr",null,[(0,e._)("td",null,"less-loader,sass-loader"),(0,e._)("td",null,"...")]),(0,e._)("tr",null,[(0,e._)("td",null,"ts-loader"),(0,e._)("td",null,"将ts转换成css")]),(0,e._)("tr",null,[(0,e._)("td",null,"file-loader"),(0,e._)("td",null,"进行图片、字体等的打包")]),(0,e._)("tr",null,[(0,e._)("td",null,"raw-loader"),(0,e._)("td",null,"将文件以字符串的形式导入")]),(0,e._)("tr",null,[(0,e._)("td",null,"thread-loader"),(0,e._)("td",null,"多进程打包JS和CSS")])])],-1),ln=(0,e._)("p",null,"Loaders 的用法",-1),tn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" path"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'path'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n\nmodule"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    output"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'bundle.js'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    module"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        rules"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n            "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("test"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"\\.txt$"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("use"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'raw-loader'"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br")])],-1),on=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e._)("code",null,"test"),(0,e.Uk)(" 指定匹配规则,"),(0,e._)("code",null,"use"),(0,e.Uk)(" 指定使用的loader名称")])],-1),pn=(0,e._)("ul",null,[(0,e._)("li",null,"核心概念之Plugins")],-1),cn=(0,e._)("p",null,"插件用于bundle文件的优化，资源管理器和环境变量的注入 作用于整个构建过程",-1),un=(0,e._)("p",null,"常见的Plugins有哪些?",-1),_n=(0,e._)("table",null,[(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"名称"),(0,e._)("th",null,"描述")])]),(0,e._)("tbody",null,[(0,e._)("tr",null,[(0,e._)("td",null,"CommonsChunkPlugin"),(0,e._)("td",null,"将chunks相同的模块代码提取成公共js")]),(0,e._)("tr",null,[(0,e._)("td",null,"CleanWebpackPlugin"),(0,e._)("td",null,"清理构建目录")]),(0,e._)("tr",null,[(0,e._)("td",null,"ExtractTextWebpackPlugin"),(0,e._)("td",null,"将CSS从bundle文件里提取成一个独立的CSS文件")]),(0,e._)("tr",null,[(0,e._)("td",null,"CopyWebpackPlugin"),(0,e._)("td",null,"将文件或者文件夹拷贝到构建的输出目录")]),(0,e._)("tr",null,[(0,e._)("td",null,"HtmlWebpackPlugin"),(0,e._)("td",null,"创建HTML文件去承载输出的bundle")]),(0,e._)("tr",null,[(0,e._)("td",null,"UglifyjsWebpackPlugin"),(0,e._)("td",null,"压缩JS")]),(0,e._)("tr",null,[(0,e._)("td",null,"ZipWebpackPlugin"),(0,e._)("td",null,"将打包出的资源生成一个zip包")])])],-1),rn=(0,e._)("p",null,"Plugins的用法",-1),kn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" path"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'path'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n\nmodule"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    output"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'bundle.js'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    plugins"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e._)("span",{class:"token class-name"},"HtmlWebpackPlugin"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("template"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token string"},"'./src/index.html'"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),bn=(0,e._)("blockquote",null,[(0,e._)("p",null,"放到plugins的数组里面")],-1),mn=(0,e._)("ul",null,[(0,e._)("li",null,"核心概念之Mode Mode用来指定当前的构建环境是: production development还是none， 设置mode可以使用webpack内置的函数，默认值是production")],-1),dn=(0,e._)("p",null,"Mode的内置函数功能",-1),Un=(0,e._)("table",null,[(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"选项"),(0,e._)("th",null,"描述")])]),(0,e._)("tbody",null,[(0,e._)("tr",null,[(0,e._)("td",null,"development"),(0,e._)("td",null,"设process.env.NODE_ENV 的值为 development. 开启NamedChunksPlugin+NameModulesPlugin.")]),(0,e._)("tr",null,[(0,e._)("td",null,"production"),(0,e._)("td",null,'设process.env.NODE_ENV 的值为 production. 开启"一堆Plugin"')]),(0,e._)("tr",null,[(0,e._)("td",null,"none"),(0,e._)("td",null,"不开启任何优化选项")])])],-1),gn=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},'"一堆Plugin"'),(0,e._)("ul",null,[(0,e._)("li",null,"FlagDependencyUsagePlugin"),(0,e._)("li",null,"FlagIncludedChunksPlugin"),(0,e._)("li",null,"ModuleConcatentationPlugin"),(0,e._)("li",null,"NoEmitOnErrorsPlugin"),(0,e._)("li",null,"OccurenceOrderPlugin"),(0,e._)("li",null,"SideEffectsFlagPlugin"),(0,e._)("li",null,"TerserPlugin")])],-1),hn=(0,e._)("p",null,"资源解析: 解析ES6 使用babel-loader babel的配置文件是.babelrc",-1),wn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    module"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        rules"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("test"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"\\.js$"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("use"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'babel-loader'"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br")])],-1),vn=(0,e._)("p",null,"增加ES6的babel preset配置",-1),xn=(0,e._)("div",{class:"language-json ext-json line-numbers-mode"},[(0,e._)("pre",{class:"language-json"},[(0,e._)("code",null,[(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},'"presets"'),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},'"@babel/preset-env"'),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},'"plugins"'),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},'"@babel/proposal-class-properties"'),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),fn=(0,e._)("blockquote",null,[(0,e._)("p",null,"增加ES6 preset配置")],-1),yn=(0,e._)("p",null,"资源解析: 解析React JSX",-1),jn=(0,e._)("div",{class:"language-json ext-json line-numbers-mode"},[(0,e._)("pre",{class:"language-json"},[(0,e._)("code",null,[(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},'"presets"'),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},'"@babel/preset-env"'),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},'"@babel/preset-react"'),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},'"plugins"'),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},'"@babel/proposal-class-properties"'),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Sn=(0,e._)("blockquote",null,[(0,e._)("p",null,"增加React的 babel-preset 配置")],-1),Pn=(0,e._)("p",null,"资源解析: 解析CSS",-1),Cn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    module"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        rules"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n            "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("test"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"\\.css$"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("use"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},'"style-loader"'),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},'"css-loader"'),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br")])],-1),Wn=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("css-loader用于加载.css文件，并且转换成commonjs对象 style-loader 将样式通过"),(0,e._)("code",null,"<style>"),(0,e.Uk)("标签插入到head中")])],-1),En=(0,e._)("p",null,[(0,e.Uk)("解析Less和SaSS less-loader 用于将less转换成css 解析图片 file-loader 用于处理文件 "),(0,e._)("code",null,"test: /\\.(png|svg|jpg|gif)$/"),(0,e.Uk)(" 解析字体 file-loader 也可以用于处理字体 "),(0,e._)("code",null,"test: /\\.(woff|woff2|eot|ttf|otf)$/"),(0,e.Uk)(" 使用url-loader url-loader 也可以处理图片和字体 可以设置较小的资源自动base64")],-1),Mn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    module"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("rules"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("test"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"\\.(png|svg|jpg|git)$"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        use"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            loader"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'url-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            options"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("limit"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"10240"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),qn=(0,e._)("p",null,"webpack中的文件监听",-1),On=(0,e._)("p",null,"文件监听是在发现源码发生变化时，自动重新构建出新的输出文件。",-1),zn=(0,e._)("p",null,"webpack 开启监听模式，有两种方式:",-1),Hn=(0,e._)("ol",null,[(0,e._)("li",null,"启动 webpack命令时，带上--watch参数"),(0,e._)("li",null,"在配置webpack.config.js中设置 watch: true")],-1),Rn=(0,e._)("p",null,"唯一缺陷：每次需要手动 刷新浏览器",-1),Ln=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"文件监听原理"),(0,e._)("p",null,"轮询判断文件的最后编辑时间是否变化 某个文件发生了变化，并不会立即告诉监听者，而是先缓存起来，等aggregateTimeout"),(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    watch"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token comment"},"//默认false"),(0,e.Uk)("\n    watchOptions"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        ignored"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"node_modules"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token comment"},"// 默认空，不监听的文件(夹),支持正则匹配"),(0,e.Uk)("\n        aggregateTimeout"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"300"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token comment"},"// 监听到变化后会等300ms再去执行，默认300"),(0,e.Uk)("\n        poll"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token number"},"1000"),(0,e.Uk)(),(0,e._)("span",{class:"token comment"},"// 判断文件是否变化是通过轮询问系统指定文件有没变化实现的，默认每秒问1000次"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])])],-1),Dn=(0,e._)("p",null,"热更新 webpack-dev-server",-1),Jn=(0,e._)("ul",null,[(0,e._)("li",null,"WDS 不刷新浏览器"),(0,e._)("li",null,"WDS 不输出文件，而是放在内存中"),(0,e._)("li",null,[(0,e.Uk)("使用HotModuleReplacementPlugin插件 "),(0,e._)("code",null,"webpack-dev-server --open")])],-1),Nn=(0,e._)("p",null,"热更新 使用webpack-dev-middleware WDS将 webpack输出的文件传输给服务器 适用于灵活的定制场景",-1),Tn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" express"),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'express'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" webpack"),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'webpack'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" webpackDevMiddleware"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'webpack-dev-middleware'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n\n"),(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" app"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token function"},"express"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" config"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'./webpack.config.js'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" compiler"),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"webpack"),(0,e._)("span",{class:"token punctuation"},"("),(0,e.Uk)("config"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n\napp"),(0,e._)("span",{class:"token punctuation"},"."),(0,e._)("span",{class:"token function"},"use"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token function"},"webpackDevMiddleware"),(0,e._)("span",{class:"token punctuation"},"("),(0,e.Uk)("compiler"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    publicPath"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" config"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("output"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("publicPath\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\napp"),(0,e._)("span",{class:"token punctuation"},"."),(0,e._)("span",{class:"token function"},"listen"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token number"},"3000"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token keyword"},"function"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    console"),(0,e._)("span",{class:"token punctuation"},"."),(0,e._)("span",{class:"token function"},"log"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'app listening on port 3000'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br")])],-1),Bn=(0,e._)("p",null,"热更新的原理分析",-1),$n=(0,e._)("ul",null,[(0,e._)("li",null,"Webpack Compile: 将JS编译成 Bundle"),(0,e._)("li",null,"HMR Server: 将热更的文件输出给 HMR Runtime"),(0,e._)("li",null,"Bundle server: 提供文件在浏览器的访问"),(0,e._)("li",null,"HMR Runtime: 会被注入到浏览器，更新文件的变化"),(0,e._)("li",null,"bundle.js: 构建输出的文件")],-1),An=(0,e._)("p",null,[(0,e._)("img",{src:l,alt:"HMR原理分析"})],-1),In=(0,e._)("ul",null,[(0,e._)("li",null,"什么是文件指纹? 打包后输出的文件名的后缀 hash串 文件指纹如何生成"),(0,e._)("li",null,"Hash：和整个项目的构建相关，只要项目文件有修改，整个项目构建的hash值就会更改"),(0,e._)("li",null,"Chunkhash：和webpack打包的chunk有关，不同的entry会生成不同的chunkhash值"),(0,e._)("li",null,"Contenthash: 根据文件内容来定义hash，文件内容不变，则contenthash不变")],-1),Gn=(0,e._)("p",null,[(0,e.Uk)("JS的文件指纹设置 设置output的filename，使用[chunkhash] "),(0,e._)("code",null,"output:{ filename: '[name][chunkhash:8].js' }"),(0,e.Uk)(" CSS文件的指纹设置 设置MiniCssExtractPlugin的filename,使用[contenthash]")],-1),Fn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e._)("span",{class:"token class-name"},"MiniCssExtractPlugin"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(" filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token template-string"},[(0,e._)("span",{class:"token template-punctuation string"},"`"),(0,e._)("span",{class:"token string"},"[name][contenthash:8].css"),(0,e._)("span",{class:"token template-punctuation string"},"`")]),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),Vn=(0,e._)("p",null,[(0,e.Uk)("图片文件的指纹设置 设置file-loader的name，使用[hash] "),(0,e._)("code",null,"use: [{loader:'file-loader',options:{name:'img/[name][hash:8].[ext]'}}]")],-1),Zn=(0,e._)("table",null,[(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"占位符名称"),(0,e._)("th",null,"含义")])]),(0,e._)("tbody",null,[(0,e._)("tr",null,[(0,e._)("td",null,"ext"),(0,e._)("td",null,"资源的后缀名")]),(0,e._)("tr",null,[(0,e._)("td",null,"name"),(0,e._)("td",null,"文件名称")]),(0,e._)("tr",null,[(0,e._)("td",null,"path"),(0,e._)("td",null,"文件的相对路径")]),(0,e._)("tr",null,[(0,e._)("td",null,"folder"),(0,e._)("td",null,"文件所在的文件夹")]),(0,e._)("tr",null,[(0,e._)("td",null,"contenthash"),(0,e._)("td",null,"文件的内容hash，默认md5生成")]),(0,e._)("tr",null,[(0,e._)("td",null,"hash"),(0,e._)("td",null,"文件内容的Hash,默认md5生成")]),(0,e._)("tr",null,[(0,e._)("td",null,"emoji"),(0,e._)("td",null,"一个随机的指代文件内容的emoji")])])],-1),Xn=(0,e._)("p",null,"代码压缩 HTML压缩 CSS压缩 JS压缩",-1),Yn=(0,e._)("p",null,"JS文件的压缩 内置了uglifyjs-webpack-plugin CSS文件的压缩 使用optimize-css-assets-webpack-plugin，同时使用 cssnano",-1),Kn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("plugins"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e._)("span",{class:"token class-name"},"OptimizeCSSAssetsPlugin"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        assetsNameRegExp"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"\\.css$"),(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-flags"},"g")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        cssProcessor"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'cssnano'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),Qn=(0,e._)("p",null,"html文件的压缩 修改html-webpack-plugin, 设置压缩参数",-1),ns=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e._)("span",{class:"token class-name"},"HtmlWebpackPlugin"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    template"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" path"),(0,e._)("span",{class:"token punctuation"},"."),(0,e._)("span",{class:"token function"},"join"),(0,e._)("span",{class:"token punctuation"},"("),(0,e.Uk)("__dirname"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},"'src/search.html'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    filename"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'search.html'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    chunks"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},"'search'"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    inject"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    minify"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        html5"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        collapseWhitespace"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        preserveLineBreaks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"false"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        minifyCSS"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        minifyJS"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        removeComments"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"false"),(0,e.Uk)(" 的定义"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(" font"),(0,e._)("span",{class:"token operator"},"-"),(0,e.Uk)("size "),(0,e._)("span",{class:"token keyword"},"of"),(0,e.Uk)(" the root elementrem 和 px 对比\n移动端"),(0,e._)("span",{class:"token constant"},"CSS"),(0,e.Uk)(" px自动转换成rem\n使用px2rem"),(0,e._)("span",{class:"token operator"},"-"),(0,e.Uk)("loader\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br")])],-1),ss=(0,e._)("h3",{id:"_03-webpack进阶用法",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#_03-webpack进阶用法","aria-hidden":"true"},"#"),(0,e.Uk)(" 03 webpack进阶用法")],-1),as=(0,e._)("ol",null,[(0,e._)("li",null,"当前构建的问题 每次构建的时候不会清理目录，造成构建的输出目录output文件越来越多")],-1),es=(0,e._)("p",null,[(0,e.Uk)("通过 npm scripts 清理构建目录 "),(0,e._)("code",null,"rm -rf ./dist && webpack"),(0,e._)("code",null,"rimraf ./dist && webpack")],-1),ls=(0,e._)("p",null,"自动清理构建目录 避免构建前每次都需要手动删除dist 使用clean-webpack-plugin ,默认会删除output指定的输出目录",-1),ts=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" plugins"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)(),(0,e._)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e._)("span",{class:"token class-name"},"CleanWebpackPlugin"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)(" \n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),os=(0,e._)("ol",{start:"2"},[(0,e._)("li",null,"CSS3属性为什么需要前缀?")],-1),ps=(0,e._)("ul",null,[(0,e._)("li",null,"Trident(-ms)"),(0,e._)("li",null,"Geko(-moz)"),(0,e._)("li",null,"Webkit(-webkit)"),(0,e._)("li",null,"Presto(-o)")],-1),cs=(0,e._)("p",null,"举个例子",-1),us=(0,e._)("div",{class:"language-css ext-css line-numbers-mode"},[(0,e._)("pre",{class:"language-css"},[(0,e._)("code",null,[(0,e._)("span",{class:"token selector"},".box"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},"-moz-border-radius"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 10px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},"-webkit-border-radius"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 10px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},"-o-border-radius"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 10px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token property"},"border-radius"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 10px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),_s=(0,e._)("p",null,"PostCSS插件 autoprefixer 自动补齐CSS3前缀 使用 autoprefixer 插件 根据 CanIUse规则",-1),rs=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("rules"),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    test"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"\\.less$"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    use"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token string"},"'style-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'css-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'less-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            loader"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'postcss-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            options"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(),(0,e._)("span",{class:"token function-variable function"},"plugins"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token operator"},"=>"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n                    "),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'autoprefixer'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n                        browsers"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)(),(0,e._)("span",{class:"token string"},'"last 2 version"'),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},'">1%"'),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},'"iOS 7"'),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n                    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n                "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n            "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br")])],-1),is=(0,e._)("ol",{start:"3"},[(0,e._)("li",null,"浏览器的分辨率 CSS 媒体查询实现响应式布局")],-1),ks=(0,e._)("div",{class:"language-css ext-css line-numbers-mode"},[(0,e._)("pre",{class:"language-css"},[(0,e._)("code",null,[(0,e._)("span",{class:"token atrule"},[(0,e._)("span",{class:"token rule"},"@media"),(0,e.Uk)(" screen "),(0,e._)("span",{class:"token keyword"},"and"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token property"},"max-width"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 980px"),(0,e._)("span",{class:"token punctuation"},")")]),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token selector"},".header"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(),(0,e._)("span",{class:"token property"},"width"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 900px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token atrule"},[(0,e._)("span",{class:"token rule"},"@media"),(0,e.Uk)(" screen "),(0,e._)("span",{class:"token keyword"},"and"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token property"},"max-width"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 480px"),(0,e._)("span",{class:"token punctuation"},")")]),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token selector"},".header"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(),(0,e._)("span",{class:"token property"},"width"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 400px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token atrule"},[(0,e._)("span",{class:"token rule"},"@media"),(0,e.Uk)(" screen "),(0,e._)("span",{class:"token keyword"},"and"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token property"},"max-width"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 350px"),(0,e._)("span",{class:"token punctuation"},")")]),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token selector"},".header"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(),(0,e._)("span",{class:"token property"},"width"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 300px"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br")])],-1),bs=(0,e._)("ol",{start:"4"},[(0,e._)("li",null,"rem 是什么")],-1),ms=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("W3C 对 "),(0,e._)("code",null,"rem"),(0,e.Uk)(" 的定义: font-size of the root element")])],-1),ds=(0,e._)("p",null,"rem 和 px 对比",-1),Us=(0,e._)("ul",null,[(0,e._)("li",null,"rem 是相对单位"),(0,e._)("li",null,"px 是绝对单位")],-1),gs=(0,e._)("p",null,"移动端CSS px自动转换成rem",-1),hs=(0,e._)("p",null,[(0,e.Uk)("使用"),(0,e._)("code",null,"px2rem-loader"),(0,e.Uk)(" 页面渲染时计算根元素的font-size值")],-1),ws=(0,e._)("ul",null,[(0,e._)("li",null,"可以使用手淘的lib-flexible库"),(0,e._)("li",null,"https://github.com/amfe/lib-flexible")],-1),vs=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" rules1"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("use"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token string"},"'style-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},"'css-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token string"},"'less-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        loader"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'px2rem-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        options"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            remUnit"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"75"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            remPecision"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"8"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),xs=(0,e._)("p",null,"资源内联的意义 代码层面：",-1),fs=(0,e._)("ul",null,[(0,e._)("li",null,"页面框架的初始化脚本"),(0,e._)("li",null,"上报相关打点"),(0,e._)("li",null,"css内联避免页面闪动 请求层面: 减少HTTP网络请求数"),(0,e._)("li",null,"小图片或者字体内联 url-loader")],-1),ys=(0,e._)("p",null,"HTML 和 JS 内联",-1),js=(0,e._)("p",null,"raw-loader 内联 html",-1),Ss=(0,e._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,e._)("pre",{class:"language-html"},[(0,e._)("code",null,[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("script")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e._)("span",{class:"token script"},[(0,e._)("span",{class:"token language-javascript"},[(0,e.Uk)("$"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'raw-loader!babel-loader!./meta.html'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},"}")])]),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("script")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),Ps=(0,e._)("p",null,"raw-loader 内联 js",-1),Cs=(0,e._)("div",{class:"language-html ext-html line-numbers-mode"},[(0,e._)("pre",{class:"language-html"},[(0,e._)("code",null,[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"<"),(0,e.Uk)("script")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e._)("span",{class:"token script"},[(0,e._)("span",{class:"token language-javascript"},[(0,e.Uk)("$"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e._)("span",{class:"token function"},"require"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token string"},"'raw-loader!babel-loader!../node_modules/lib-flexible'"),(0,e._)("span",{class:"token punctuation"},")"),(0,e._)("span",{class:"token punctuation"},"}")])]),(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token tag"},[(0,e._)("span",{class:"token punctuation"},"</"),(0,e.Uk)("script")]),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),Ws=(0,e._)("p",null,"css 内联 方案一 借助 style-loader 方案二 html-inline-css-webpack-plugin",-1),Es=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token keyword"},"const"),(0,e.Uk)(" rules1"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("use"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(" \n        loader"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'style-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        options"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            insertAt"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'top'"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token comment"},"// 样式插入到<head>"),(0,e.Uk)("\n            singleton"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e._)("span",{class:"token comment"},"// 将所有的style标签合并成一个"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token string"},"'css-loader'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token string"},"'sass-loader'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br")])],-1),Ms=(0,e._)("p",null,"多页面应用(PWA)概念",-1),qs=(0,e._)("blockquote",null,[(0,e._)("p",null,"每一次页面跳转的时候，后台服务器都会给返回一个新的html文档，"),(0,e._)("p",null,"这种类型的网站也就是多页面网站，也叫做多页面应用")],-1),Os=(0,e._)("p",null,"多页面打包基本思路",-1),zs=(0,e._)("p",null,"每个页面对应一个entry，一个html-webpack-plugin 缺点：每次新增或删除页面需要改webpack配置",-1),Hs=(0,e._)("p",null,"多页面打包 通用方案",-1),Rs=(0,e._)("p",null,"动态获取entry 和设置 html-webpack-plugin 利用 glob.sync",-1),Ls=(0,e._)("ul",null,[(0,e._)("li",null,"entry: glob.sync(path.join(__dirname,'./src/*/index.js')),")],-1),Ds=(0,e._)("p",null,"使用 source map",-1),Js=(0,e._)("p",null,"作用：通过source map定位到源码",-1),Ns=(0,e._)("ul",null,[(0,e._)("li",null,"source map 科普 阮一峰javascript_source_map")],-1),Ts=(0,e._)("p",null,"开发环境开启，线上环境关闭",-1),Bs=(0,e._)("ul",null,[(0,e._)("li",null,"线上排查问题的时候可以将sourcemap上传到错误监控系统")],-1),$s=(0,e._)("p",null,"source map 关键字",-1),As=(0,e._)("p",null,"eval: 使用eval包裹模块代码",-1),Is=(0,e._)("p",null,"source map： 产生.map文件",-1),Gs=(0,e._)("p",null,"cheap： 不包含列信息",-1),Fs=(0,e._)("p",null,"inline： 将.map作为DataURI嵌入，不单独产生.map文件",-1),Vs=(0,e._)("p",null,"module：包含loader的sourcemap",-1),Zs=(0,e._)("p",null,"source map 类型",-1),Xs=(0,e._)("ul",null,[(0,e._)("li",null,"none =prod yes"),(0,e._)("li",null,"eval"),(0,e._)("li",null,"cheap-eval-source-map"),(0,e._)("li",null,"cheap-module-source-map"),(0,e._)("li",null,"eval-source-map"),(0,e._)("li",null,"cheap-source-map =prod yes"),(0,e._)("li",null,"cheap-module-source-map =prod yes"),(0,e._)("li",null,"inline-cheap-source-map"),(0,e._)("li",null,"inline-cheap-module-source-map"),(0,e._)("li",null,"source-map =prod yes"),(0,e._)("li",null,"inline-source-map"),(0,e._)("li",null,"hidden-source-map =prod yes")],-1),Ys=(0,e._)("p",null,"基础库分离 思路：将react、react-dom 基础包通过cdn引入，不打入bundle中 方法：使用html-webpack-externals-plugin",-1),Ks=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("cosnt plugins"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token keyword"},"new"),(0,e.Uk)(),(0,e._)("span",{class:"token class-name"},"HtmlWebpackExternalsPlugin"),(0,e._)("span",{class:"token punctuation"},"("),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        externals"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n            "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("module"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'react'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("entry"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token string"},"'//cdn/react.min.js?v=123'"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("module"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'react-dom'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("entry"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token string"},"'//cdn/react-dom.min.js?v=123'"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},")"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])],-1),Qs=(0,e._)("p",null,"使用SplitChunksPlugin 进行公共脚本分离 webpack4 内置的，替代CommonsChunkPlugin 插件",-1),na=(0,e._)("p",null,"chunks 参数说明：",-1),sa=(0,e._)("ul",null,[(0,e._)("li",null,"async 异步引入的库进行分离(默认)"),(0,e._)("li",null,"initial 同步引入的库进行分离"),(0,e._)("li",null,"all 所有引入的库进行分离(推荐)")],-1),aa=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\noptimization"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    splitChunks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        chunks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'async'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        minSize"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"30000"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        maxSize"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"0"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        minChunks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"1"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        maxAsyncRequests"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"5"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        maxInitialRequests"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"3"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        automaticNameDelimiter"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'~'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        name"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean"},"true"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        cacheGroups"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            vendors"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            test"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"[\\\\/]node_modules[\\\\/]"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            priority"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},"-"),(0,e._)("span",{class:"token number"},"10"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"18"),(0,e._)("br")])],-1),ea=(0,e._)("p",null,"利用SplitChunksPlugin 分离基础包",-1),la=(0,e._)("p",null,"test: 匹配出需要分离的包",-1),ta=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("optimization"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("splitChunks"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("cacheGroups"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    commons"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        test"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token regex"},[(0,e._)("span",{class:"token regex-delimiter"},"/"),(0,e._)("span",{class:"token regex-source language-regex"},"(react|react-dom)"),(0,e._)("span",{class:"token regex-delimiter"},"/")]),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        name"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'vendors'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        chunks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'all'"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br")])],-1),oa=(0,e._)("p",null,"利用SplitChunksPlugin 分离公共文件",-1),pa=(0,e._)("p",null,"minChunks: 设置最小引用次数为2次 minSize：分离的包体积的大小",-1),ca=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("optimiaztion"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("splitChunks"),(0,e._)("span",{class:"token operator"},"="),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    minSize"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"0"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    cacheGroups"),(0,e._)("span",{class:"token operator"},":"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        commons"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            name"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'commons'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            chunks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'all'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            minChunks"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"2"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),ua=(0,e._)("p",null,"Tree Shaking(摇树优化)",-1),_a={},ra=(0,a(3744).Z)(_a,[["render",function(n,s){const a=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[t,(0,e._)("nav",o,[(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(a,{to:"#original"},{default:(0,e.w5)((()=>[p])),_:1}),(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(a,{to:"#concepts"},{default:(0,e.w5)((()=>[c])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#entry"},{default:(0,e.w5)((()=>[u])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#output"},{default:(0,e.w5)((()=>[_])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#plugins"},{default:(0,e.w5)((()=>[r])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#mode"},{default:(0,e.w5)((()=>[i])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#browser-compatibility"},{default:(0,e.w5)((()=>[k])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#scenarios"},{default:(0,e.w5)((()=>[b])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#multiple-entry-points"},{default:(0,e.w5)((()=>[m])),_:1})])])]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#webpack内容综述"},{default:(0,e.w5)((()=>[d])),_:1}),(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(a,{to:"#_01-webpack与构建发展简史"},{default:(0,e.w5)((()=>[U])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#_02-webpack基础用法"},{default:(0,e.w5)((()=>[g])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#_03-webpack进阶用法"},{default:(0,e.w5)((()=>[h])),_:1})])])])])]),w,v,x,f,y,j,S,P,C,W,E,M,q,O,z,H,R,L,D,J,N,T,B,$,A,I,G,F,V,Z,X,Y,K,Q,nn,sn,an,en,ln,tn,on,pn,cn,un,_n,rn,kn,bn,mn,dn,Un,gn,hn,wn,vn,xn,fn,yn,jn,Sn,Pn,Cn,Wn,En,Mn,qn,On,zn,Hn,Rn,Ln,Dn,Jn,Nn,Tn,Bn,$n,An,In,Gn,Fn,Vn,Zn,Xn,Yn,Kn,Qn,ns,ss,as,es,ls,ts,os,ps,cs,us,_s,rs,is,ks,bs,ms,ds,Us,gs,hs,ws,vs,xs,fs,ys,js,Ss,Ps,Cs,Ws,Es,Ms,qs,Os,zs,Hs,Rs,Ls,Ds,Js,Ns,Ts,Bs,$s,As,Is,Gs,Fs,Vs,Zs,Xs,Ys,Ks,Qs,na,sa,aa,ea,la,ta,oa,pa,ca,ua],64)}]])},3744:(n,s)=>{s.Z=(n,s)=>{for(const[a,e]of s)n[a]=e;return n}},744:(n,s,a)=>{n.exports=a.p+"assets/img/HMR-principal.0552d93f.png"}}]);