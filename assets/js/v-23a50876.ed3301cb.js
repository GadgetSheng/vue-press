"use strict";(self.webpackChunkbfe_lessons=self.webpackChunkbfe_lessons||[]).push([[503],{7654:(n,a,s)=>{s.r(a),s.d(a,{data:()=>e});const e={key:"v-23a50876",path:"/packager/webpack.html",title:"学习webpack",lang:"en-US",frontmatter:{lastUpdated:!1},excerpt:"",headers:[{level:2,title:"Original",slug:"original",children:[{level:3,title:"Concepts",slug:"concepts",children:[]},{level:3,title:"Entry",slug:"entry",children:[]},{level:3,title:"Output",slug:"output",children:[]},{level:3,title:"Plugins",slug:"plugins",children:[]},{level:3,title:"Mode",slug:"mode",children:[]},{level:3,title:"Browser Compatibility",slug:"browser-compatibility",children:[]},{level:3,title:"Scenarios",slug:"scenarios",children:[]},{level:3,title:"Multiple Entry Points",slug:"multiple-entry-points",children:[]}]},{level:2,title:"Webpack内容综述",slug:"webpack内容综述",children:[{level:3,title:"01 webpack与构建发展简史",slug:"_01-webpack与构建发展简史",children:[]}]}],filePathRelative:"packager/webpack.md",git:{updatedTime:1634015682e3}}},8427:(n,a,s)=>{s.r(a),s.d(a,{default:()=>f});var e=s(6252);const t=(0,e._)("h1",{id:"学习webpack",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#学习webpack","aria-hidden":"true"},"#"),(0,e.Uk)(" 学习webpack")],-1),p={class:"table-of-contents"},l=(0,e.Uk)("Original"),o=(0,e.Uk)("Concepts"),i=(0,e.Uk)("Entry"),c=(0,e.Uk)("Output"),u=(0,e.Uk)("Plugins"),r=(0,e.Uk)("Mode"),d=(0,e.Uk)("Browser Compatibility"),k=(0,e.Uk)("Scenarios"),b=(0,e.Uk)("Multiple Entry Points"),m=(0,e.Uk)("Webpack内容综述"),h=(0,e.Uk)("01 webpack与构建发展简史"),g=(0,e.uE)('<h2 id="original" tabindex="-1"><a class="header-anchor" href="#original" aria-hidden="true">#</a> Original</h2><details class="custom-container details"><summary>官方原文</summary><h3 id="concepts" tabindex="-1"><a class="header-anchor" href="#concepts" aria-hidden="true">#</a> Concepts</h3><p>webpack is a <strong>static</strong> module bundler for modern JavaScript application</p><p>it internally builds a [<code>dependency graph</code>] from one or more entry points and then combines every module your project needs into one or more bundles, which are static assets to serve your content from.</p><p>Core concepts:</p><ul><li>Entry</li><li>Output</li><li>Loaders</li><li>Plugins</li><li>Mode</li><li>Browser Compatiblity</li></ul><p>一期目标问题</p><ul><li>Manually Bundling an Application</li><li>Live Coding a Simple Module Bundler</li><li>Detailed Explaination of a Simple Module Bundler</li></ul><h3 id="entry" tabindex="-1"><a class="header-anchor" href="#entry" aria-hidden="true">#</a> Entry</h3><p>entry point = which module webpack begin building out its internal <strong>dependency graph</strong>. figure out depends on(directly or indirectly).</p><p><code>./src/index.js</code></p><h3 id="output" tabindex="-1"><a class="header-anchor" href="#output" aria-hidden="true">#</a> Output</h3><p>emit the bundles and specific the names of these files. <code>./dist/main.js</code> { path, filename }</p><h3 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a> Plugins</h3><p>leveraged to perform a wider range of tasks like bundle optimization , asset management and injection of enviroment variables. <em>extend capabilities</em></p><ul><li>require it</li><li>push to plugins array</li><li>create instance with <code>new</code></li></ul><h3 id="mode" tabindex="-1"><a class="header-anchor" href="#mode" aria-hidden="true">#</a> Mode</h3><p>development,<code>production</code>,none built-in optimization that correspond to each environment.</p><h3 id="browser-compatibility" tabindex="-1"><a class="header-anchor" href="#browser-compatibility" aria-hidden="true">#</a> Browser Compatibility</h3><p>supports all &quot;ES5-compliant&quot; webpack needs Promise for <code>import()</code>,<code>require.ensure()</code>. to support older browser you need to load polyfill.</p><blockquote><p>Webpack 5 runs on Node.js version 10.13.0+</p></blockquote><h3 id="scenarios" tabindex="-1"><a class="header-anchor" href="#scenarios" aria-hidden="true">#</a> Scenarios</h3><ol><li>Seperate App and Vender Entries</li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n    entry<span class="token operator">:</span> <span class="token punctuation">{</span>\n        main<span class="token operator">:</span> &#39;xxx&#39;<span class="token punctuation">,</span>\n        vendor<span class="token operator">:</span> &#39;yyy&#39;\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    output<span class="token operator">:</span> <span class="token punctuation">{</span>\n        filename<span class="token operator">:</span> &#39;<span class="token punctuation">[</span>name<span class="token punctuation">]</span>.<span class="token punctuation">[</span>contenthash<span class="token punctuation">]</span>.bundle.js&#39;<span class="token punctuation">,</span> <span class="token comment">// prod</span>\n        filename<span class="token operator">:</span> &#39;<span class="token punctuation">[</span>name<span class="token punctuation">]</span>.bundle.js&#39; <span class="token comment">// dev</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>optimization.splitChunks</code> option takes care of seperating vendors and app modules.</p><h3 id="multiple-entry-points" tabindex="-1"><a class="header-anchor" href="#multiple-entry-points" aria-hidden="true">#</a> Multiple Entry Points</h3><p>Output has a unique name. can use substitutions <code>[name]</code></p></details><h2 id="webpack内容综述" tabindex="-1"><a class="header-anchor" href="#webpack内容综述" aria-hidden="true">#</a> Webpack内容综述</h2><div class="custom-container tip"><p class="custom-container-title">章节</p><ul><li>P1-P3 webpack 的基本概念和日常开发的使用技巧</li><li>P4-P5 以工程化的方式组织webpack构建配置，和webpack打包优化</li><li>P6-P7 详细剖析webpack打包原理和插件，以及loader的实现</li><li>P8 从实际web商城项目出发，讲解webpack实际使用</li></ul></div><h3 id="_01-webpack与构建发展简史" tabindex="-1"><a class="header-anchor" href="#_01-webpack与构建发展简史" aria-hidden="true">#</a> 01 webpack与构建发展简史</h3><p>为什么需要构建工具</p><ul><li>转换ES6语法</li><li>转换JSX</li><li>CSS前缀补全/预处理器</li><li>压缩混淆</li><li>图片压缩</li></ul><p>构建演变之路 <code>ant+YUI tool --&gt; grunt --&gt; fis3/gulp --&gt; rollup,webpack,parcel</code></p><p>为什么选择webpack</p><ul><li>社区生态丰富</li><li>配置灵活和插件化扩展</li><li>官方更新迭代速度快</li></ul><p>初识webpack：配置文件名称</p><ul><li>webpack默认配置文件 <code>webpack.config.js</code></li><li>可以通过 webpack --config 指定配置文件</li></ul><p>初识webpack：配置组成</p><ul><li>entry // 打包的入口文件</li><li>output // 打包的输出</li><li>mode // 环境</li><li>module.rules // Loader配置</li><li>module.plugins // 插件配置</li></ul><p><strong>零配置</strong>webpack包含哪些内容</p><ul><li>默认entry为 ./src/index.js</li><li>默认output为 ./dist/main.js</li><li>loader raw-loader</li><li>plugins HtmlwebpackPlugin template:./src/index.html</li></ul><p>环境搭建 Node.js 和 NPM</p><p>安装webpack和 webpack-cli</p><p>webpack初体验</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nmodule<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>\n    mode<span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>\n    entry<span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>\n    output<span class="token operator">:</span><span class="token punctuation">{</span>\n        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        filename<span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>---&gt;构建结果</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>通过npm script 运行<code>webpack</code></p><p><strong>原理</strong> 模块局部安装会在 node_modules/.bin目录创建软链接</p></blockquote>',23),w={},f=(0,s(3744).Z)(w,[["render",function(n,a){const s=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[t,(0,e._)("nav",p,[(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(s,{to:"#original"},{default:(0,e.w5)((()=>[l])),_:1}),(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(s,{to:"#concepts"},{default:(0,e.w5)((()=>[o])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#entry"},{default:(0,e.w5)((()=>[i])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#output"},{default:(0,e.w5)((()=>[c])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#plugins"},{default:(0,e.w5)((()=>[u])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#mode"},{default:(0,e.w5)((()=>[r])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#browser-compatibility"},{default:(0,e.w5)((()=>[d])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#scenarios"},{default:(0,e.w5)((()=>[k])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#multiple-entry-points"},{default:(0,e.w5)((()=>[b])),_:1})])])]),(0,e._)("li",null,[(0,e.Wm)(s,{to:"#webpack内容综述"},{default:(0,e.w5)((()=>[m])),_:1}),(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(s,{to:"#_01-webpack与构建发展简史"},{default:(0,e.w5)((()=>[h])),_:1})])])])])]),g],64)}]])},3744:(n,a)=>{a.Z=(n,a)=>{for(const[s,e]of a)n[s]=e;return n}}}]);